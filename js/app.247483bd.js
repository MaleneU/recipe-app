(function(){var e={7610:function(e,t,i){"use strict";var s=i(9963),r=i(6252);function o(e,t,i,s,o,a){const n=(0,r.up)("NavigationTop"),l=(0,r.up)("router-view"),c=(0,r.up)("NavigationBottom");return(0,r.wg)(),(0,r.iD)(r.HY,null,[((0,r.wg)(),(0,r.j4)(n,{key:e.$route.fullPath})),(0,r._)("main",null,[(0,r.Wm)(l)]),(0,r.Wm)(c)],64)}var a=i(3577);const n={class:"header"},l={class:"header__content"},c=(0,r._)("img",{src:"/recipe-app/img/logo/cookingtime_new.svg",alt:"Recipe",class:"logo-img"},null,-1),p={class:"icon"},u={key:0,class:"item"},d=(0,r._)("span",{class:"material-icons-round"},"collections_bookmark",-1),m={class:"user-container"},g=(0,r._)("button",{class:"button button--green button--small"}," Sign up ",-1),h={class:"login-cointer"},_={class:"profil"},f=["src"],w={class:"user-loggin"};function b(e,t,i,s,o,b){const k=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",null,[(0,r._)("div",n,[(0,r._)("div",l,[(0,r._)("div",null,[(0,r.Wm)(k,{to:"/feed"},{default:(0,r.w5)((()=>[c])),_:1})]),(0,r._)("div",p,[o.user?((0,r.wg)(),(0,r.iD)("div",u,[(0,r.Wm)(k,{to:"/bookmarks"},{default:(0,r.w5)((()=>[d])),_:1})])):(0,r.kq)("",!0),(0,r._)("div",m,[o.user?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(k,{key:0,to:"/register"},{default:(0,r.w5)((()=>[g])),_:1})),(0,r._)("div",h,[(0,r._)("div",_,[o.user?((0,r.wg)(),(0,r.j4)(k,{key:0,to:"/profile"},{default:(0,r.w5)((()=>[(0,r._)("img",{src:o.profileImgUrl,alt:"Profil",class:"profil-img"},null,8,f),(0,r._)("div",w,(0,a.zw)(o.user.username),1)])),_:1})):(0,r.kq)("",!0)])])])])])])])}var k={name:"NavigationTop",data(){return{user:{},active:!1,profileImgUrl:"/recipe-app/img/profile/profile-placeholder.png"}},mounted(){if(this.user=JSON.parse(window.localStorage.getItem("userData")),this.user)try{this.profileImgUrl=i(7101)("./person"+this.user.id+".jpg")}catch(e){this.profileImgUrl="/recipe-app/img/profile/profile-placeholder.png"}},methods:{logout(){window.localStorage.removeItem("jwt"),window.localStorage.removeItem("userData"),window.localStorage.removeItem("bookmarks"),this.$router.go("/feed")},toggle(){this.active=!this.active}}},v=i(3744);const y=(0,v.Z)(k,[["render",b]]);var D=y;const I={class:"footer"},S={class:"footer__content"},j=(0,r._)("span",{class:"material-icons-round"},"home",-1),C=(0,r._)("span",{class:"material-icons-round"},"search",-1),x=(0,r._)("span",{class:"material-icons-round"},"add_circle_outline",-1),$=(0,r._)("span",{class:"material-icons-round"},"kitchen",-1),R=(0,r._)("span",{class:"material-icons-round"},"event_note",-1);function P(e,t,i,s,o,a){const n=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("footer",I,[(0,r._)("div",S,[(0,r.Wm)(n,{to:{name:"Feed"}},{default:(0,r.w5)((()=>[j])),_:1}),(0,r.Wm)(n,{to:{name:"Search"}},{default:(0,r.w5)((()=>[C])),_:1}),(0,r.Wm)(n,{to:{name:"CreateRecipe"}},{default:(0,r.w5)((()=>[x])),_:1}),(0,r.Wm)(n,{to:{name:""}},{default:(0,r.w5)((()=>[$])),_:1}),(0,r.Wm)(n,{to:{name:""}},{default:(0,r.w5)((()=>[R])),_:1})])])}var U={name:"NavigationBottom"};const T=(0,v.Z)(U,[["render",P]]);var q=T,W={name:"App",components:{NavigationTop:D,NavigationBottom:q},beforeCreate(){this.$store.dispatch("fetchRecipes")}};const z=(0,v.Z)(W,[["render",o]]);var N=z,O=i(2119);const H={class:"wrapper"},M=(0,r._)("h3",null,"Popular Chefs",-1);function V(e,t,i,s,o,a){const n=(0,r.up)("RecipeCard"),l=(0,r.up)("BaseCarrousel"),c=(0,r.up)("UserCard");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",H,[(0,r.Wm)(l,{"slide-width":"medium",items:this.$store.state.recipes,"slider-id":"1"},{item:(0,r.w5)((({item:e})=>[(0,r.Wm)(n,{recipe:e,"slide-width":"medium"},null,8,["recipe"])])),_:1},8,["items"])]),(0,r.Wm)(l,{"slide-width":"small",items:a.recipes,"slider-id":"2"},{item:(0,r.w5)((({item:e})=>[(0,r.Wm)(n,{recipe:e,"slide-width":"small"},null,8,["recipe"])])),_:1},8,["items"]),M,(0,r.Wm)(l,{"slide-width":"tiny",items:o.users,"slider-id":"3"},{item:(0,r.w5)((({item:e})=>[(0,r.Wm)(c,{user:e},null,8,["user"])])),_:1},8,["items"])],64)}const A={class:"card__header"},L=["src","alt"],E={class:"card__overlay"},Y={key:0,class:"topleft"},Z={class:"topright"},F={class:"recipe-attributes"},K={class:"recipe-attributes__left"},B={key:0,class:"recipe-attributes__left__difficulty"},J={class:"recipe-attributes__left__ingredients"},X={class:"recipe-attributes__right"},G={class:"recipe-attributes__rightcook-time"},Q={class:"card__title"},ee={class:"card-headline"},te={class:"card__body"},ie=(0,r._)("button",{class:"button button--green"},[(0,r.Uk)("Cook "),(0,r._)("i",{class:"icofont-arrow-right"})],-1),se={key:0,class:"card__gallery"};function re(e,t,i,o,n,l){const c=(0,r.up)("RecipeStats"),p=(0,r.up)("RecipeCardSocialButtons"),u=(0,r.up)("router-link"),d=(0,r.up)("RecipeAuthor");return(0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(["card",i.slideWidth]),onMousedown:t[0]||(t[0]=(0,s.iM)(((...e)=>l.registerClick&&l.registerClick(...e)),["left"])),onTouchstart:t[1]||(t[1]=(...e)=>l.registerClick&&l.registerClick(...e)),onMouseup:t[2]||(t[2]=(0,s.iM)(((...e)=>l.goToDetails&&l.goToDetails(...e)),["left"])),onTouchend:t[3]||(t[3]=(...e)=>l.goToDetails&&l.goToDetails(...e))},[(0,r._)("div",A,[(0,r._)("img",{src:n.cardImg,alt:i.recipe.attributes.Title,class:"card__img"},null,8,L),(0,r._)("div",E,["medium"===i.slideWidth||"large"===i.slideWidth?((0,r.wg)(),(0,r.iD)("div",Y,[(0,r.Wm)(c,{recipe:i.recipe},null,8,["recipe"])])):(0,r.kq)("",!0),(0,r._)("div",Z,[(0,r.Wm)(p,{recipe:i.recipe},null,8,["recipe"])]),(0,r._)("div",F,[(0,r._)("div",K,[i.recipe.attributes.difficulty.data?((0,r.wg)(),(0,r.iD)("p",B,[(0,r.Uk)((0,a.zw)(i.recipe.attributes.difficulty.data.attributes.Name)+" ",1),(0,r._)("span",{class:(0,a.C_)("emoji-"+i.recipe.id)},null,2)])):(0,r.kq)("",!0),(0,r._)("p",J,(0,a.zw)(n.numberOfIngredients)+" ingredients",1)]),(0,r._)("div",X,[(0,r._)("p",G,"🕐 "+(0,a.zw)(i.recipe.attributes.CookTime)+"min",1)])])])]),(0,r._)("div",Q,[(0,r._)("h4",ee,[(0,r.Wm)(u,{to:{name:"RecipeDetails",params:{id:i.recipe.id}}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.zw)(i.recipe.attributes.Title),1)])),_:1},8,["to"])]),(0,r._)("div",te,[(0,r.Wm)(d,{author:n.cardAuthor},null,8,["author"]),"medium"===i.slideWidth||"large"===i.slideWidth?((0,r.wg)(),(0,r.j4)(u,{key:0,to:{name:"RecipeDetails",params:{id:i.recipe.id}}},{default:(0,r.w5)((()=>[ie])),_:1},8,["to"])):(0,r.kq)("",!0)]),"full"===i.slideWidth?((0,r.wg)(),(0,r.iD)("div",se)):(0,r.kq)("",!0)])],34)}const oe={class:"recipe-cook"},ae=["src","alt"],ne={class:"cardAuthor"};function le(e,t,i,s,o,n){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.j4)(l,{to:{name:"ProfileDetails",params:{id:i.author.id}}},{default:(0,r.w5)((()=>[(0,r._)("div",oe,[(0,r._)("img",{class:"profile-img",src:o.imgSrc,alt:o.imgAlt},null,8,ae),(0,r._)("p",ne,"By "+(0,a.zw)(i.author.attributes.username),1)])])),_:1},8,["to"])}var ce={props:["author"],data(){return{imgSrc:"",imgAlt:""}},mounted(){this.imgSrc=i(7101)("./person"+this.author.id+".jpg"),this.imgAlt=this.author.attributes.username}};const pe=(0,v.Z)(ce,[["render",le]]);var ue=pe;const de={class:"social-stats"},me={class:"likes"},ge=(0,r._)("span",{class:"material-icons-round likes__icon"},"favorite",-1),he={class:"likes__number"};function _e(e,t,i,s,o,n){return(0,r.wg)(),(0,r.iD)("div",de,[(0,r._)("div",me,[ge,(0,r._)("span",he,(0,a.zw)(o.numberOfLikes),1)])])}var fe={props:["recipe"],data(){return{numberOfLikes:this.recipe.attributes?.likes.data.length}},mounted(){}};const we=(0,v.Z)(fe,[["render",_e]]);var be=we;const ke={class:"social-btns"},ve={key:0,class:"material-icons-round"},ye={key:1,class:"material-icons-round"},De={key:0,class:"material-icons-round"},Ie={key:1,class:"material-icons-round"};function Se(e,t,i,s,o,a){return(0,r.wg)(),(0,r.iD)("div",ke,[(0,r._)("button",{onClick:t[0]||(t[0]=e=>a.handleLike()),class:"like"},[o.recipeLiked?((0,r.wg)(),(0,r.iD)("span",ve,"favorite")):((0,r.wg)(),(0,r.iD)("span",ye,"favorite_border"))]),(0,r._)("button",{class:"bookmark",onClick:t[1]||(t[1]=e=>a.addItemToBookmark(this.recipe))},[o.recipeBookmarked?((0,r.wg)(),(0,r.iD)("span",De,"bookmark")):((0,r.wg)(),(0,r.iD)("span",Ie,"bookmark_border"))])])}var je=i(9669),Ce=i.n(je),xe={props:["recipe"],data(){return{loggedInUser:JSON.parse(localStorage.getItem("userData")),recipeLiked:!1,recipeLikes:this.recipe.attributes.likes.data,bookmarks:JSON.parse(window.localStorage.getItem("bookmarks")),curRecipe:this.recipe,recipeBookmarked:!1}},methods:{handleLike(){if(this.recipeLiked){console.log("Already liked");const e=this.recipeLikes.map((e=>e.id)).indexOf(this.loggedInUser.id);this.recipeLikes.splice(e,1);const t=Ce().put(`https://recipe-strapi.herokuapp.com/api/recipes/${this.recipe.id}?populate=likes`,{data:{likes:this.recipeLikes}});this.recipeLiked=!1,console.log(t)}else{const e=Ce().put(`https://recipe-strapi.herokuapp.com/api/recipes/${this.recipe.id}?populate=likes`,{data:{likes:this.loggedInUser.id}});this.recipeLiked=!0,console.log(e)}},async addItemToBookmark(e){if(window.localStorage.getItem("userData")){const{id:t}=e;let i;if(!this.bookmarks.some((t=>t.savedRecipeID===e.id))){this.recipeBookmarked=!0,i={savedRecipeID:t,savedRecipe:this.curRecipe,users_permissions_user:JSON.parse(window.localStorage.getItem("userData")).id},this.bookmarks.push(i),window.localStorage.setItem("bookmarks",JSON.stringify(this.bookmarks)),await this.axios.post("https://recipe-strapi.herokuapp.com/api/bookmarks",{data:{savedRecipeID:t,savedRecipe:this.recipe,users_permissions_user:JSON.parse(window.localStorage.getItem("userData")).id}});const e=await this.axios.get(`https://recipe-strapi.herokuapp.com/api/users/${this.loggedInUser.id}?populate=bookmarks`),s=e.data;window.localStorage.setItem("bookmarks",JSON.stringify(s.bookmarks))}}}},computed:{},mounted(){window.localStorage.getItem("userData")&&this.bookmarks.some((e=>e.savedRecipeID===this.recipe.id))&&(this.recipeBookmarked=!0)}};const $e=(0,v.Z)(xe,[["render",Se]]);var Re=$e,Pe={props:["recipe","cardSize","slideWidth"],components:{RecipeAuthor:ue,RecipeStats:be,RecipeCardSocialButtons:Re},data(){return{cardAuthor:this.recipe.attributes.users_permissions_user.data,cardImg:"/recipe-app/img/food/placeholder.png",numberOfIngredients:this.recipe.attributes.recipe_ingredients.data.length,emoji:"&#128336;",clickTimeStamp:0}},methods:{registerClick(e){this.clickTimeStamp=e.timeStamp},goToDetails(e){e.timeStamp-this.clickTimeStamp<200&&this.$router.push({name:"RecipeDetails",params:{id:this.recipe.id}})}},mounted(){this.recipe.attributes.difficulty.data?.attributes.ImageURL?document.querySelector(".emoji-"+this.recipe.id).innerHTML="&#"+this.recipe.attributes.difficulty.data.attributes.ImageURL+";":console.log("no emoji"),this.recipe.attributes.ImageURL&&(this.cardImg=i(9022)("./"+this.recipe.attributes.ImageURL))}};const Ue=(0,v.Z)(Pe,[["render",re]]);var Te=Ue;const qe=["onTouchstartPassive","onMousedownPassive"];function We(e,t,i,s,o,n){return(0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(["slider-container",`slider-${i.sliderId}`])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.items,(s=>((0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(["slide",`slide-slider-${i.sliderId} ${i.slideWidth}`]),key:s.id,onTouchstartPassive:e=>n.touchStart(e,this.items.findIndex((e=>e.id===s.id))),onTouchmovePassive:t[0]||(t[0]=(...e)=>n.touchMove&&n.touchMove(...e)),onTouchend:t[1]||(t[1]=(...e)=>n.touchEnd&&n.touchEnd(...e)),onMousedownPassive:e=>n.touchStart(e,this.items.findIndex((e=>e.id===s.id))),onMousemovePassive:t[2]||(t[2]=(...e)=>n.touchMove&&n.touchMove(...e)),onMouseleave:t[3]||(t[3]=(...e)=>n.touchEnd&&n.touchEnd(...e)),onMouseup:t[4]||(t[4]=(...e)=>n.touchEnd&&n.touchEnd(...e))},[(0,r.WI)(e.$slots,"item",{item:s})],42,qe)))),128))],2)}i(6699);var ze={props:["slideWidth","items","sliderId"],data(){return{appWidth:0,slider:"fart",slides:[],isDragging:!1,startPosition:0,currentPosition:0,currentTranslate:0,prevTranslate:0,animationID:0,currentIndex:0}},mounted(){this.slider=document.querySelector(".slider-"+this.sliderId),this.getSlides()},updated(){this.getSlides()},methods:{getSlides(){this.slides=Array.from(document.querySelectorAll(".slide-slider-"+this.sliderId)),this.slides.forEach((e=>{const t=e.querySelector("img");t&&t.addEventListener("dragstart",(e=>e.preventDefault()))}))},touchStart(e,t){this.appWidth=document.querySelector(".slide-slider-"+this.sliderId).offsetWidth,this.currentIndex=t,this.startPosition=this.getPositionX(e),this.isDragging=!0,this.animationID=requestAnimationFrame(this.animation),this.slider.classList.add("grabbing")},touchEnd(){this.isDragging=!1,cancelAnimationFrame(this.animationID);const e=this.currentTranslate-this.prevTranslate;e<-100&&this.currentIndex<this.slides.length-1&&(this.currentIndex+=1),e>100&&this.currentIndex>0&&(this.currentIndex-=1),this.setPositionByIndex(),this.slider.classList.remove("grabbing")},touchMove(e){this.isDragging&&(this.currentPosition=this.getPositionX(e),this.currentTranslate=this.prevTranslate+this.currentPosition-this.startPosition)},getPositionX(e){return e.type.includes("mouse")?e.pageX:e.touches[0].clientX},animation(){this.setSliderPosition(),this.isDragging&&requestAnimationFrame(this.animation)},setSliderPosition(){this.slider.style.transform=`translateX(${this.currentTranslate}px)`},setPositionByIndex(){this.currentTranslate=this.currentIndex*-this.appWidth,this.prevTranslate=this.currentTranslate,this.setSliderPosition()}}};const Ne=(0,v.Z)(ze,[["render",We]]);var Oe=Ne;const He={class:"user-card"},Me=["src","alt"],Ve={class:"user-card__name"};function Ae(e,t,i,s,o,n){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.j4)(l,{class:"link",to:{name:"ProfileDetails",params:{id:i.user.id}}},{default:(0,r.w5)((()=>[(0,r._)("div",He,[(0,r._)("img",{class:"user-card__img",src:o.profileImgUrl,alt:o.profileImgAlt},null,8,Me),(0,r._)("p",Ve,(0,a.zw)(i.user.username),1)])])),_:1},8,["to"])}var Le={props:["user"],data(){return{profileImgUrl:"",profileImgAlt:"",users:""}},mounted(){try{this.profileImgUrl=i(7101)("./person"+this.user.id+".jpg")}catch(e){this.profileImgUrl="/recipe-app/img/profile/profile-placeholder.png"}}};const Ee=(0,v.Z)(Le,[["render",Ae]]);var Ye=Ee,Ze={name:"MainFeed",components:{RecipeCard:Te,BaseCarrousel:Oe,UserCard:Ye},data(){return{users:""}},computed:{recipes(){return this.$store.state.recipes}},mounted(){fetch("https://recipe-strapi.herokuapp.com/api/users").then((e=>e.json())).then((e=>this.users=e))}};const Fe=(0,v.Z)(Ze,[["render",V]]);var Ke=Fe;const Be={class:"profile"},Je={class:"profile__header"},Xe=["src","alt"],Ge={class:"profile__header__stats"},Qe={class:"profile__username"},et=(0,r.Uk)(" - Log out"),tt={class:"profile__text"},it=(0,r._)("h3",null,"Take a look at my recipes",-1),st={class:"profile__recipes"};function rt(e,t,i,s,o,n){const l=(0,r.up)("router-link"),c=(0,r.up)("RecipeCard");return(0,r.wg)(),(0,r.iD)("div",Be,[(0,r._)("div",Je,[(0,r._)("img",{src:o.profileImgUrl,alt:o.profileImgAlt,class:"profile__img"},null,8,Xe),(0,r._)("div",Ge,[(0,r._)("p",null,"Recipes: "+(0,a.zw)(n.recipes.length)+" | Likes: 0 | Followers: 0",1)])]),(0,r._)("h1",Qe,(0,a.zw)(o.user.username),1),o.myProfile?((0,r.wg)(),(0,r.iD)("span",{key:0,onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e))},[o.user?((0,r.wg)(),(0,r.j4)(l,{key:0,to:"/",class:"profile__logout"},{default:(0,r.w5)((()=>[et])),_:1})):(0,r.kq)("",!0)])):(0,r.kq)("",!0),(0,r._)("p",tt," Hi there! I am "+(0,a.zw)(o.user.username)+". ",1),it,(0,r._)("div",st,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.recipes,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"profile__recipes__recipe",key:e.id},[(0,r.Wm)(c,{recipe:e,slideWidth:"small"},null,8,["recipe"])])))),128))])])}var ot={components:{RecipeCard:Te},props:["id"],data(){return{user:{},profileImgUrl:"/recipe-app/img/profile/profile-placeholder.png",profileImgAlt:"",loggedIn:!1,myProfile:!1}},computed:{recipes(){return this.$store.state.recipes.filter((e=>e.attributes.users_permissions_user.data.id===this.user.id))}},mounted(){window.localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1,this.loggedIn&&(this.id===JSON.parse(localStorage.getItem("userData")).id?this.myProfile=!0:this.id?this.myProfile=!1:this.myProfile=!0),this.loggedIn&&this.myProfile?(this.user=JSON.parse(window.localStorage.getItem("userData")),this.updateProfileImg(this.user.id)):this.fetchPublicProfile()},methods:{logout(){window.localStorage.removeItem("jwt"),window.localStorage.removeItem("userData"),window.localStorage.removeItem("bookmarks"),this.$router.go("/feed")},updateProfileImg(e){try{this.profileImgUrl=i(7101)("./person"+e+".jpg")}catch(t){this.profileImgUrl="/recipe-app/img/profile/profile-placeholder.png"}},fetchPublicProfile(){fetch(`https://recipe-strapi.herokuapp.com/api/users/${this.id}`).then((e=>e.json())).then((e=>this.user=e)),this.updateProfileImg(this.id)}}};const at=(0,v.Z)(ot,[["render",rt]]);var nt=at;const lt={key:0,class:"recipe"},ct={class:"recipe__section recipe__section--info"},pt={class:"recipe__description"},ut=(0,r._)("button",{class:"button button--green button--wide"},"Start Cooking",-1),dt={class:"recipe__section recipe__section--ingredients"},mt=(0,r._)("h3",null,"Ingredients",-1),gt={class:"recipe__section recipe__section--equipment"},ht=(0,r._)("h3",null,"Equipment",-1),_t={class:"recipe__equipment"};function ft(e,t,i,s,o,n){const l=(0,r.up)("RecipeCard"),c=(0,r.up)("router-link"),p=(0,r.up)("RecipeIngredient"),u=(0,r.up)("RecipeEquipment");return o.recipe?((0,r.wg)(),(0,r.iD)("div",lt,[(0,r._)("section",ct,[(0,r._)("h1",null,(0,a.zw)(o.recipe.attributes.Title),1),(0,r.Wm)(l,{recipe:o.recipe,slideWidth:"full"},null,8,["recipe"]),(0,r._)("p",pt,(0,a.zw)(o.recipe.attributes.Description),1),(0,r.Wm)(c,{to:{name:"RecipeSteps",params:{id:o.recipe.id}}},{default:(0,r.w5)((()=>[ut])),_:1},8,["to"])]),(0,r._)("section",dt,[mt,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.recipe.attributes.recipe_ingredients.data,(e=>((0,r.wg)(),(0,r.j4)(p,{key:e.id,amount:e.attributes.Amount,unit:e.attributes.unit.data.attributes.ShortName,name:e.attributes.ingredient.data.attributes.Name},null,8,["amount","unit","name"])))),128))]),(0,r._)("section",gt,[ht,(0,r._)("div",_t,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.recipe.attributes.equipment.data,(e=>((0,r.wg)(),(0,r.j4)(u,{key:e.id,name:e.attributes.Name},null,8,["name"])))),128))])])])):(0,r.kq)("",!0)}const wt={class:"ingredient__card"},bt={class:"ingredient__info"},kt={class:"ingredient__name"},vt={class:"ingredient__amount"};function yt(e,t,i,s,o,n){return(0,r.wg)(),(0,r.iD)("div",wt,[(0,r._)("div",bt,[(0,r._)("div",kt,(0,a.zw)(this.name),1)]),(0,r._)("div",vt,(0,a.zw)(this.amount)+" "+(0,a.zw)(this.unit),1)])}var Dt={props:["amount","unit","name"]};const It=(0,v.Z)(Dt,[["render",yt]]);var St=It;const jt={class:"equipment__card"},Ct={class:"equipment__name"};function xt(e,t,i,s,o,n){return(0,r.wg)(),(0,r.iD)("div",jt,[(0,r._)("div",Ct,(0,a.zw)(this.name),1)])}var $t={props:["name","img"]};const Rt=(0,v.Z)($t,[["render",xt]]);var Pt=Rt,Ut={name:"RecipeDetails",props:["id"],components:{RecipeEquipment:Pt,RecipeIngredient:St,RecipeCard:Te},data(){return{recipe:[]}},computed:{},created(){fetch(`https://recipe-strapi.herokuapp.com/api/recipes/${this.id}?populate=users_permissions_user,recipe_ingredients.unit,recipe_ingredients.ingredient,equipment,difficulty,likes,Image`).then((e=>e.json())).then((e=>this.recipe=e.data))},mounted(){}};const Tt=(0,v.Z)(Ut,[["render",ft]]);var qt=Tt;function Wt(e,t,i,s,o,a){const n=(0,r.up)("SearchBar");return(0,r.wg)(),(0,r.j4)(n,{searchResult:!0})}const zt={class:"tab-box p-regular"},Nt={class:"tab-box__tabs"},Ot=(0,r._)("a",{href:"#"},"Recipes",-1),Ht=[Ot],Mt=(0,r._)("a",{href:"#"},"Ingredients",-1),Vt=[Mt],At=(0,r._)("a",{href:"#"},"Chefs",-1),Lt=[At],Et={class:"tab-box__content"},Yt=(0,r._)("span",{class:"material-icons-outlined"},"search",-1),Zt=(0,r._)("div",null,[(0,r._)("span",{class:"material-icons-outlined"},"filter_list")],-1),Ft={key:0,class:"tab-box__options"},Kt={key:0},Bt={key:1},Jt={key:2},Xt={key:0,class:"grid-search"},Gt={key:1,class:"grid-search"},Qt={key:2,class:"user-search"};function ei(e,t,i,o,n,l){const c=(0,r.up)("router-link"),p=(0,r.up)("RecipeCard"),u=(0,r.up)("UserCard");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",zt,[(0,r._)("ul",Nt,[(0,r._)("li",{onClick:[t[0]||(t[0]=e=>{n.activetab=1,n.isVisible=!1}),t[1]||(t[1]=(...e)=>l.resetSearh&&l.resetSearh(...e))],class:(0,a.C_)([1===n.activetab?"selected":""])},Ht,2),(0,r._)("li",{onClick:[t[2]||(t[2]=e=>{n.activetab=2,n.isVisible=!1}),t[3]||(t[3]=(...e)=>l.resetSearh&&l.resetSearh(...e))],class:(0,a.C_)([2===n.activetab?"selected":""])},Vt,2),(0,r._)("li",{onClick:[t[4]||(t[4]=e=>{n.activetab=3,n.isVisible=!1}),t[5]||(t[5]=(...e)=>l.resetSearh&&l.resetSearh(...e))],class:(0,a.C_)([3===n.activetab?"selected":""])},Lt,2)]),(0,r._)("div",Et,[(0,r._)("div",null,[(0,r.Wm)(c,{to:"/search"},{default:(0,r.w5)((()=>[Yt])),_:1})]),(0,r.wy)((0,r._)("input",{onKeydown:t[6]||(t[6]=(0,s.D2)((e=>l.goToSearchPage()),["enter"])),onInput:t[7]||(t[7]=e=>n.isVisible=!0),onClick:t[8]||(t[8]=e=>n.isVisible=!1),"onUpdate:modelValue":t[9]||(t[9]=e=>n.search=e),class:"item",onKeyup:t[10]||(t[10]=(...e)=>l.onSearchIngredient&&l.onSearchIngredient(...e)),placeholder:"Search",type:"search"},null,544),[[s.nr,n.search]]),Zt]),n.isVisible?((0,r.wg)(),(0,r.iD)("div",Ft,[1===n.activetab?((0,r.wg)(),(0,r.iD)("ul",Kt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filteredRecipe,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.id},[(0,r.Wm)(c,{to:`/recipes/${e.id}`},{default:(0,r.w5)((()=>[(0,r._)("p",null,(0,a.zw)(e.attributes.Title),1)])),_:2},1032,["to"])])))),128))])):(0,r.kq)("",!0),2===n.activetab?((0,r.wg)(),(0,r.iD)("ul",Bt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.allRecipesIngredient,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.id},[(0,r.Wm)(c,{to:`/recipes/${e.id}`},{default:(0,r.w5)((()=>[(0,r._)("p",null,(0,a.zw)(e.attributes.Title),1)])),_:2},1032,["to"])])))),128))])):(0,r.kq)("",!0),3===n.activetab?((0,r.wg)(),(0,r.iD)("ul",Jt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filteredUsers,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.id},[(0,r.Wm)(c,{to:`/profile/${e.id}`},{default:(0,r.w5)((()=>[(0,r._)("p",null,(0,a.zw)(e.username),1)])),_:2},1032,["to"])])))),128))])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)]),1===n.activetab?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",Xt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filteredRecipe,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r.Wm)(p,{recipe:e},null,8,["recipe"])])))),128))],512)),[[s.F8,i.searchResult]]):(0,r.kq)("",!0),2===n.activetab?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",Gt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.allRecipesIngredient,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r.Wm)(p,{recipe:e},null,8,["recipe"])])))),128))],512)),[[s.F8,i.searchResult]]):(0,r.kq)("",!0),3===n.activetab?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",Qt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filteredUsers,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"user-search__user",key:e.id},[(0,r.Wm)(u,{user:e},null,8,["user"])])))),128))],512)),[[s.F8,i.searchResult]]):(0,r.kq)("",!0)],64)}var ti={name:"SearchBar",props:["searchResult"],components:{RecipeCard:Te,UserCard:Ye},data(){return{allUsers:[],allRecipes:[],allRecipesIngredient:[],search:"",isVisible:!1,activetab:1}},computed:{filteredRecipe(){return this.allRecipes.filter((e=>e.attributes.Title.toLowerCase().match(this.search.toLowerCase())))},filteredUsers(){return this.allUsers.filter((e=>e.username.toLowerCase().match(this.search.toLowerCase())))}},async mounted(){null===sessionStorage.getItem("searchInput")?this.search="":this.search=sessionStorage.getItem("searchInput"),window.onunload=function(){sessionStorage.removeItem("searchInput")};try{const e=await Ce().get("https://recipe-strapi.herokuapp.com/api/recipes?populate=users_permissions_user,recipe_ingredients.unit,recipe_ingredients.ingredient,equipment,difficulty,likes,Image"),t=await Ce().get("https://recipe-strapi.herokuapp.com/api/users"),i=await Ce().get("https://recipe-strapi.herokuapp.com/api/recipes?filters[recipe_ingredients][ingredient][Name][$contains]=&populate=*");this.allRecipes=e.data.data,this.allUsers=t.data,this.allRecipesIngredient=i.data.data}catch(e){this.error=e}},created(){window.addEventListener("click",(e=>{this.$el.contains(e.target)||(this.isVisible=!1)}))},methods:{resetSearh(){this.search=""},goToSearchPage(){this.$router.push("/search"),sessionStorage.setItem("searchInput",this.search)},async onSearchIngredient(){const e=await Ce().get(`https://recipe-strapi.herokuapp.com/api/recipes?populate=*&filters[recipe_ingredients][ingredient][Name][$contains]=${this.search}`);this.allRecipesIngredient=e.data.data}}};const ii=(0,v.Z)(ti,[["render",ei]]);var si=ii,ri={components:{SearchBar:si}};const oi=(0,v.Z)(ri,[["render",Wt]]);var ai=oi;const ni={id:"app"},li={key:0},ci=(0,r._)("h1",{style:{"text-align":"center"},class:"headline"},"Create your delicious recipe ",-1),pi=(0,r._)("label",{for:"Title",class:"form__label"},"Recipe title",-1),ui=(0,r._)("br",null,null,-1),di=(0,r._)("br",null,null,-1),mi=(0,r._)("label",{class:"form__label"},"Upload image",-1),gi=(0,r._)("button",{type:"button",class:"button button--green button--wide"},"Upload image",-1),hi=(0,r._)("br",null,null,-1),_i=(0,r._)("br",null,null,-1),fi=(0,r._)("label",{for:"Description",class:"form__label"},"Description",-1),wi=(0,r._)("br",null,null,-1),bi=(0,r._)("br",null,null,-1),ki=(0,r._)("label",{class:"form__label"},"Cooking time",-1),vi={class:"flexContainer"},yi={class:"flexItem"},Di=(0,r._)("label",{class:"form__label form__label--time",for:"timeHouers"},"Hours",-1),Ii={class:"flexItem"},Si=(0,r._)("label",{class:"form__label form__label--time",for:"timeMinutes"},"Minutes",-1),ji=(0,r._)("br",null,null,-1),Ci=(0,r._)("label",{class:"form__label"},"Select meal types",-1),xi={class:"flexContainer"},$i=["value","id"],Ri=(0,r._)("br",null,null,-1),Pi=(0,r._)("label",{class:"form__label"},"Choose difficulty",-1),Ui={class:"flexContainer"},Ti=["value","id"],qi=(0,r._)("br",null,null,-1),Wi=(0,r._)("label",{class:"form__label"},"Select equipment",-1),zi={class:"flexContainer"},Ni=["value","id"],Oi=(0,r._)("br",null,null,-1),Hi=(0,r._)("label",{class:"form__label"},"Select ingredients",-1),Mi=(0,r._)("br",null,null,-1),Vi=(0,r._)("button",{class:"button button--green button--wide"},"Create recipe",-1);function Ai(e,t,i,o,n,l){const c=(0,r.up)("FormAddIngredient");return(0,r.wg)(),(0,r.iD)("div",ni,[n.error?((0,r.wg)(),(0,r.iD)("div",li,(0,a.zw)(n.error),1)):((0,r.wg)(),(0,r.iD)("form",{key:1,class:"form__card",id:"form",onSubmit:t[7]||(t[7]=(...e)=>l.handleSubmit&&l.handleSubmit(...e))},[ci,pi,(0,r.wy)((0,r._)("input",{class:"form__input",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>n.title=e),type:"text",name:"title"},null,512),[[s.nr,n.title]]),ui,di,mi,gi,hi,_i,fi,(0,r.wy)((0,r._)("textarea",{class:"form__input",name:"description",id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>n.description=e),cols:"30",rows:"5"},null,512),[[s.nr,n.description]]),wi,bi,ki,(0,r._)("div",vi,[(0,r._)("div",yi,[Di,(0,r.wy)((0,r._)("input",{class:"form__input",id:"timeHouers","onUpdate:modelValue":t[2]||(t[2]=e=>n.timeHouers=e),type:"number",name:"timeHouers"},null,512),[[s.nr,n.timeHouers]])]),(0,r._)("div",Ii,[Si,(0,r.wy)((0,r._)("input",{class:"form__input",id:"timeMinutes","onUpdate:modelValue":t[3]||(t[3]=e=>n.timeMinutes=e),type:"number",name:"timeMinutes"},null,512),[[s.nr,n.timeMinutes]])])]),ji,Ci,(0,r._)("div",xi,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.allMealTypes,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"flexItem",key:e.id},[(0,r.wy)((0,r._)("input",{class:"from__input",type:"checkbox",value:e.id,"onUpdate:modelValue":t[4]||(t[4]=e=>n.mealType=e),name:"allMealTypes",id:e.id},null,8,$i),[[s.e8,n.mealType]]),(0,r._)("label",null,(0,a.zw)(e.attributes.Name),1)])))),128))]),Ri,Pi,(0,r._)("div",Ui,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.allDifficulties,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"flexItem",key:e.id},[(0,r.wy)((0,r._)("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":t[5]||(t[5]=e=>n.difficulty=e),name:"allDifficulties",id:e.id},null,8,Ti),[[s.e8,n.difficulty]]),(0,r._)("label",null,(0,a.zw)(e.attributes.Name),1)])))),128))]),qi,Wi,(0,r._)("div",zi,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.allEquipments,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"flexItem",key:e.id},[(0,r.wy)((0,r._)("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":t[6]||(t[6]=e=>n.equipment=e),name:"allEquipments",id:e.id},null,8,Ni),[[s.e8,n.equipment]]),(0,r._)("label",null,(0,a.zw)(e.attributes.Name),1)])))),128))]),Oi,Hi,(0,r.Wm)(c,{onCostumChange:l.logChange},null,8,["onCostumChange"]),Mi,Vi],32))])}const Li={class:"dropdown-wrapper"},Ei={class:"dropdown-popover"},Yi={key:0,class:"options"},Zi=["onClick"],Fi={class:"addIngredientSection"},Ki={class:"grid-item"},Bi={class:"grid-item"},Ji=(0,r._)("label",null,"Amount: ",-1),Xi=["onUpdate:modelValue"],Gi={class:"grid-item"},Qi=(0,r._)("label",null,"Unit: ",-1),es=["onUpdate:modelValue"],ts={class:"wrap-item"},is=["onClick"],ss=(0,r._)("span",{class:"material-icons-outlined"}," close ",-1),rs=[ss];function os(e,t,i,o,n,l){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",Li,[(0,r._)("div",Ei,[(0,r.wy)((0,r._)("input",{class:"form__input",type:"text",onClick:t[0]||(t[0]=e=>n.isVisible=!n.isVisible),"onUpdate:modelValue":t[1]||(t[1]=e=>n.search=e),placeholder:"Search ingredient.."},null,512),[[s.nr,n.search]]),n.isVisible?((0,r.wg)(),(0,r.iD)("div",Yi,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filteredIngredient,(e=>((0,r.wg)(),(0,r.iD)("li",{onClick:t=>l.selectedIngredient(e,n.showItem),key:e.id},(0,a.zw)(e.attributes.Name),9,Zi)))),128))])])):(0,r.kq)("",!0)])]),(0,r._)("section",Fi,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.showItem,(i=>((0,r.wg)(),(0,r.iD)("div",{class:"grid",key:i.id},[(0,r._)("div",Ki,[(0,r._)("div",null,(0,a.zw)(i.item),1)]),(0,r._)("div",Bi,[Ji,(0,r.wy)((0,r._)("input",{onChange:t[2]||(t[2]=t=>e.$emit("costumChange",t.target.value)),"onUpdate:modelValue":e=>i.amount=e,type:"number"},null,40,Xi),[[s.nr,i.amount]])]),(0,r._)("div",Gi,[Qi,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":e=>i.unit=e},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.allUnits,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.id},(0,a.zw)(e.attributes.ShortName),1)))),128))],8,es),[[s.bM,i.unit]])]),(0,r._)("div",ts,[(0,r._)("button",{onClick:e=>l.deleteIngredient(i),type:"button",class:"btnClose"},rs,8,is)])])))),128))])],64)}var as={name:"FormAddIngredient",data(){return{search:"",selectedItem:null,isVisible:!1,allIngredients:[],allUnits:[],showItem:[],unit:[],amount:[]}},computed:{filteredIngredient(){return this.allIngredients.filter((e=>e.attributes.Name.toLowerCase().match(this.search)))}},async mounted(){try{const e=await Ce().get("https://recipe-strapi.herokuapp.com/api/ingredients");this.allIngredients=e.data.data;const t=await Ce().get("https://recipe-strapi.herokuapp.com/api/units");this.allUnits=t.data.data}catch(e){this.error=e}},methods:{selectedIngredient(e,t){this.selectedItem=e.attributes.Name,this.isVisible=!1;let i={};i["item"]=this.selectedItem,t.push(i),console.log(t)},update(e){let t={amount:10};e.push(t)},deleteIngredient(e){this.showItem=this.showItem.filter((t=>e!==t))}}};const ns=(0,v.Z)(as,[["render",os]]);var ls=ns,cs={name:"CreateRecipeView",components:{FormAddIngredient:ls},data(){return{allDifficulties:[],allMealTypes:[],allEquipments:[],title:"",description:"",timeMinutes:"",timeHouers:"",mealType:[],difficulty:[],equipment:[],error:null}},async mounted(){alert("Under construction");try{const e=await Ce().get("https://recipe-strapi.herokuapp.com/api/meal-types");this.allMealTypes=e.data.data;const t=await Ce().get("https://recipe-strapi.herokuapp.com/api/difficulties");this.allDifficulties=t.data.data;const i=await Ce().get("https://recipe-strapi.herokuapp.com/api/equipments");this.allEquipments=i.data.data}catch(e){this.error=e}},methods:{handleSubmit:async function(e){e.preventDefault();try{const e=await this.axios.post("http://localhost:1337/api/recipes",{data:{Title:this.title,Description:this.description,CookTime:this.timeMinutes,meal_type:this.mealType,difficulty:this.difficulty,equipment:this.equipment}}).then((e=>this.recipeId=e.data.data.id)).then(console.log(this.recipeId));console.log(e);const t=await this.axios.post("http://localhost:1337/api/recipe-ingredients",{data:{recipe:this.recipeId,Amount:10,unit:1,ingredient:2}});console.log(e),console.log(t)}catch(t){this.error=t}},logChange(e){console.log(e)}}};const ps=(0,v.Z)(cs,[["render",Ai]]);var us=ps;const ds=(0,r._)("h2",null,"Sign up for the app",-1),ms=(0,r._)("label",{class:"form__label"},"Username",-1),gs={class:"form__error"},hs=(0,r._)("br",null,null,-1),_s=(0,r._)("label",{class:"form__label"},"Email",-1),fs={class:"form__error"},ws=(0,r._)("br",null,null,-1),bs=(0,r._)("label",{class:"form__label"},"Password",-1),ks={class:"form__error"},vs=(0,r._)("br",null,null,-1),ys=(0,r._)("label",{class:"form__label"},"Confirm Password",-1),Ds={class:"form__error"},Is=(0,r._)("br",null,null,-1),Ss=["disabled"],js=(0,r._)("br",null,null,-1),Cs=(0,r._)("br",null,null,-1),xs={class:"form__link"},$s=(0,r.Uk)("Already have an account? "),Rs=(0,r.Uk)("Log in");function Ps(e,t,i,o,n,l){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("form",{class:"form__card",onSubmit:t[4]||(t[4]=(...e)=>l.register&&l.register(...e))},[ds,(0,r._)("div",null,[ms,(0,r.wy)((0,r._)("input",{class:"form__input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.v$.form.username.$model=e)},null,512),[[s.nr,o.v$.form.username.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.v$.form.username.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",gs,(0,a.zw)(e.$message),1)])))),128))]),hs,(0,r._)("div",null,[_s,(0,r.wy)((0,r._)("input",{class:"form__input",type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>o.v$.form.email.$model=e)},null,512),[[s.nr,o.v$.form.email.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.v$.form.email.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",fs,(0,a.zw)(e.$message),1)])))),128))]),ws,(0,r._)("div",null,[bs,(0,r.wy)((0,r._)("input",{class:"form__input",type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>o.v$.form.password.$model=e)},null,512),[[s.nr,o.v$.form.password.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.v$.form.password.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",ks,(0,a.zw)(e.$message),1)])))),128))]),vs,(0,r._)("div",null,[ys,(0,r.wy)((0,r._)("input",{class:"form__input",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>o.v$.form.confirmPassword.$model=e)},null,512),[[s.nr,o.v$.form.confirmPassword.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.v$.form.confirmPassword.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",Ds,(0,a.zw)(e.$message),1)])))),128))]),(0,r.wy)((0,r._)("p",{class:"form__error"},(0,a.zw)(n.errorMsg),513),[[s.F8,n.error]]),Is,(0,r._)("button",{class:"button button--green button--wide",type:"submit",disabled:o.v$.form.$invalid}," Sign Up ",8,Ss),js,Cs,(0,r._)("p",xs,[$s,(0,r.Wm)(c,{to:"/login"},{default:(0,r.w5)((()=>[Rs])),_:1})])],32)])}var Us=i(4028),Ts=i(2587),qs={name:"RegisterPage",setup(){return{v$:(0,Us.ZP)()}},data(){return{form:{username:"",email:"",password:"",confirmPassword:""},errorMsg:"An error occurred. Please try again later.",error:!1}},validations(){return{form:{username:{required:Ts.C1,min:(0,Ts.Ei)(7)},email:{required:Ts.C1,email:Ts.Do},password:{required:Ts.C1,min:(0,Ts.Ei)(7)},confirmPassword:{required:Ts.C1,sameAsPassword:(0,Ts.sH)(this.form.password)}}}},methods:{async register(e){try{e.preventDefault(),await this.axios.post("https://recipe-strapi.herokuapp.com/api/auth/local/register",{password:this.form.password,email:this.form.email,username:this.form.username}),this.$router.push("/login")}catch(e){this.error=!0}}}};const Ws=(0,v.Z)(qs,[["render",Ps]]);var zs=Ws;const Ns={class:""},Os={class:""},Hs={class:""},Ms=(0,r._)("label",{class:"form__label"},"Email",-1),Vs=(0,r._)("br",null,null,-1),As={class:"form__error"},Ls=(0,r._)("br",null,null,-1),Es=(0,r._)("label",{class:"form__label"},"Password",-1),Ys=(0,r._)("br",null,null,-1),Zs={class:"form__error"},Fs=(0,r._)("br",null,null,-1),Ks=["disabled"],Bs={class:"form__link"},Js=(0,r.Uk)("Don't have an account? "),Xs=(0,r.Uk)("Sign up");function Gs(e,t,i,o,n,l){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",Ns,[(0,r._)("div",Os,[(0,r._)("div",Hs,[(0,r._)("form",{class:"form__card",onSubmit:t[2]||(t[2]=(...e)=>l.login&&l.login(...e))},[(0,r._)("div",{class:(0,a.C_)(["",{error:o.v$.form.email.$errors.length}])},[Ms,Vs,(0,r.wy)((0,r._)("input",{class:"form__input",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.v$.form.email.$model=e)},null,512),[[s.nr,o.v$.form.email.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.v$.form.email.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",As,(0,a.zw)(e.$message),1)])))),128))],2),Ls,(0,r._)("div",{class:(0,a.C_)(["",{error:o.v$.form.password.$errors.length}])},[Es,Ys,(0,r.wy)((0,r._)("input",{class:"form__input",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.v$.form.password.$model=e)},null,512),[[s.nr,o.v$.form.password.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.v$.form.password.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",Zs,(0,a.zw)(e.$message),1)])))),128))],2),(0,r.wy)((0,r._)("p",{class:"form__error"},(0,a.zw)(n.errorMsg),513),[[s.F8,n.error]]),Fs,(0,r._)("button",{class:"button button--green button--wide",type:"submit",disabled:o.v$.form.$invalid},"Log in",8,Ks),(0,r._)("p",Bs,[Js,(0,r.Wm)(c,{to:"/register"},{default:(0,r.w5)((()=>[Xs])),_:1})])],32)])])])])}var Qs={setup(){return{v$:(0,Us.ZP)()}},name:"LoginPage",data(){return{form:{email:"",password:""},errorMsg:"Email or password was incorrect. Try again.",error:!1}},validations(){return{form:{email:{required:Ts.C1,email:Ts.Do},password:{required:Ts.C1,min:(0,Ts.Ei)(7)}}}},methods:{async login(e){e.preventDefault();try{const e=await this.axios.post("https://recipe-strapi.herokuapp.com/api/auth/local",{identifier:this.form.email,password:this.form.password}),{jwt:t,user:i}=e.data;window.localStorage.setItem("jwt",t),window.localStorage.setItem("userData",JSON.stringify(i)),window.localStorage.setItem("bookmarks",JSON.stringify(i.bookmarks)),this.$router.push("/")}catch(e){this.error=!0}}}};const er=(0,v.Z)(Qs,[["render",Gs]]);var tr=er;const ir=(0,r._)("label",{class:"form__label"},"Email",-1),sr=(0,r._)("br",null,null,-1),rr={class:"form__error"},or=(0,r._)("button",{class:"button button--green",type:"submit"},"Reset Password",-1),ar=(0,r._)("br",null,null,-1);function nr(e,t,i,o,n,l){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("form",{class:"form__card",onSubmit:t[1]||(t[1]=(...e)=>l.forgotPassword&&l.forgotPassword(...e))},[(0,r._)("div",null,[ir,(0,r.wy)((0,r._)("input",{class:"form__input",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e)},null,512),[[s.nr,n.email]])]),sr,(0,r.wy)((0,r._)("p",rr,"An error occurred",512),[[s.F8,n.error]]),or,ar,(0,r.wy)((0,r._)("p",null,"Password reset link has been sent to "+(0,a.zw)(n.email),513),[[s.F8,n.done]])],32)])}var lr={name:"ForgotPassword",data(){return{email:"",done:!1,error:!1}},methods:{async forgotPassword(e){e.preventDefault(),this.done=!1,this.error=!1,this.axios.post("https://recipe-strapi.herokuapp.com/auth/forgot-password",{email:this.email}).then((()=>{this.done=!0})).catch((e=>{this.error=!0}))}}};const cr=(0,v.Z)(lr,[["render",nr]]);var pr=cr;const ur=(0,r._)("h2",null,"Reset Password",-1),dr=(0,r._)("br",null,null,-1),mr=(0,r._)("label",{class:"form__label"},"Password",-1),gr=(0,r._)("br",null,null,-1),hr=(0,r._)("label",{class:"form__label"},"Confirm Password",-1),_r={class:"form__error"},fr=(0,r._)("br",null,null,-1),wr=["disabled"];function br(e,t,i,o,a,n){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("form",{class:"form__card",onSubmit:t[2]||(t[2]=(...e)=>n.resetPassword&&n.resetPassword(...e))},[ur,dr,(0,r._)("div",null,[mr,(0,r.wy)((0,r._)("input",{class:"form__input",type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>a.password=e)},null,512),[[s.nr,a.password]])]),gr,(0,r._)("div",null,[hr,(0,r.wy)((0,r._)("input",{class:"form__input",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.confirmPassword=e)},null,512),[[s.nr,a.confirmPassword]])]),(0,r.wy)((0,r._)("p",_r,"An error occurred. Please try again.",512),[[s.F8,a.error]]),fr,(0,r._)("button",{class:"button button--green",type:"submit",disabled:a.password.length<3||a.password!==a.confirmPassword}," Reset Password ",8,wr)],32)])}var kr={name:"ResetPassword",data(){return{password:"",confirmPassword:"",done:!1,error:!1}},methods:{async resetPassword(e){e.preventDefault(),this.axios.post("https://recipe-strapi.herokuapp.com/api/auth/reset-password",{code:this.$route.query.code,password:this.password,passwordConfirmation:this.confirmPassword}).then((()=>{this.done=!0,this.$router.push("login")})).catch((e=>{this.error=!0}))}}};const vr=(0,v.Z)(kr,[["render",br]]);var yr=vr;const Dr={class:"recipe__instructions"},Ir=(0,r._)("h3",null,"Instructions",-1),Sr={class:"recipe__steps"},jr=(0,r._)("button",{class:"button button--green button--small"},"Go Back",-1);function Cr(e,t,i,s,o,a){const n=(0,r.up)("router-link"),l=(0,r.up)("RecipeStep");return(0,r.wg)(),(0,r.iD)("section",Dr,[Ir,(0,r._)("div",Sr,[(0,r.Wm)(n,{to:{name:"RecipeDetails",params:{id:this.id}}},{default:(0,r.w5)((()=>[jr])),_:1},8,["to"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.steps,((e,t)=>((0,r.wg)(),(0,r.j4)(l,{key:e.id,number:t,title:e.attributes.Title,instruction:e.attributes.Instruction},null,8,["number","title","instruction"])))),128))])])}const xr={class:"step"},$r={class:"step__title"},Rr={class:"step__instructions"};function Pr(e,t,i,s,o,n){return(0,r.wg)(),(0,r.iD)("div",xr,[(0,r._)("h4",$r," Step "+(0,a.zw)(this.number+1)+": "+(0,a.zw)(this.title),1),(0,r._)("p",Rr,(0,a.zw)(this.instruction),1)])}var Ur={props:["title","instruction","number"]};const Tr=(0,v.Z)(Ur,[["render",Pr]]);var qr=Tr,Wr={props:["id"],components:{RecipeStep:qr},data(){return{steps:[]}},created(){fetch(`https://recipe-strapi.herokuapp.com/api/steps?filters[recipe][id][$eq]=${this.id}`).then((e=>e.json())).then((e=>this.steps=e.data))}};const zr=(0,v.Z)(Wr,[["render",Cr]]);var Nr=zr;const Or=e=>((0,r.dD)("data-v-bcf564ea"),e=e(),(0,r.Cn)(),e),Hr=Or((()=>(0,r._)("h2",null,"My Bookmarks",-1))),Mr={key:0,class:"bookmarks"},Vr=Or((()=>(0,r._)("button",{class:"button button--small button--green"},[(0,r.Uk)("Cook "),(0,r._)("i",{class:"icofont-arrow-right"})],-1))),Ar=["onClick"];function Lr(e,t,i,s,o,a){const n=(0,r.up)("RecipeCard"),l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[Hr,(0,r._)("div",null,[o.bookmarks.length>0?((0,r.wg)(),(0,r.iD)("div",Mr,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.bookmarks,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"bookmarks__item",key:t},[(0,r.Wm)(n,{recipe:e.savedRecipe,"slide-width":"small"},null,8,["recipe"]),(0,r.Wm)(l,{to:`/bookmarks/${e.id}`},{default:(0,r.w5)((()=>[Vr])),_:2},1032,["to"]),(0,r._)("button",{class:"button button--small button--red",onClick:t=>a.removeItemFromBookmarks(e)}," Delete ",8,Ar)])))),128))])):(0,r.kq)("",!0)])],64)}var Er={components:{RecipeCard:Te},data(){return{bookmarks:[]}},methods:{async removeItemFromBookmarks(e){const t=this.bookmarks.findIndex((t=>t.id===e.id));this.bookmarks.splice(t,1),window.localStorage.setItem("bookmarks",JSON.stringify(this.bookmarks)),await this.axios.delete(`https://recipe-strapi.herokuapp.com/api/bookmarks/${e.id}`),this.$router.go()}},created(){this.bookmarks=JSON.parse(window.localStorage.getItem("bookmarks"))}};const Yr=(0,v.Z)(Er,[["render",Lr],["__scopeId","data-v-bcf564ea"]]);var Zr=Yr;const Fr={class:"recipe"},Kr={class:"recipe__section recipe__section--info"},Br={class:"recipe__description"},Jr={class:"recipe__section recipe__section--ingredients"},Xr=(0,r._)("h3",null,"Ingredients",-1),Gr={class:"ingredient__card"},Qr={class:"ingredient__info"},eo={class:"ingredient__name"},to={class:"ingredient__amount"};function io(e,t,i,s,o,n){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",Fr,[(0,r._)("section",Kr,[(0,r._)("h1",null,(0,a.zw)(o.curRecipe.Title),1),(0,r._)("p",Br,(0,a.zw)(o.curRecipe.Description),1)]),(0,r._)("section",Jr,[Xr,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.curRecipe.recipe_ingredients.data,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r._)("div",Gr,[(0,r._)("div",Qr,[(0,r._)("div",eo,(0,a.zw)(e.attributes.ingredient.data.attributes.Name),1)]),(0,r._)("div",to,(0,a.zw)(e.attributes.Amount)+" "+(0,a.zw)(e.attributes.unit.data.attributes.ShortName),1)])])))),128))])])])}var so={data(){return{name:this.$route.params.id,curRecipe:[],bookmarks:JSON.parse(window.localStorage.getItem("bookmarks"))}},created(){const e=parseInt(this.name),t=this.bookmarks.find((t=>t.id===e));this.curRecipe=t.savedRecipe.attributes}};const ro=(0,v.Z)(so,[["render",io]]);var oo=ro;const ao=[{path:"/",alias:"/feed",name:"Feed",component:Ke},{path:"/profile",name:"Profile",component:nt},{path:"/profile/:id",name:"ProfileDetails",component:nt,props:!0},{path:"/recipes/:id",name:"RecipeDetails",component:qt,props:!0},{path:"/recipes/:id/steps",name:"RecipeSteps",component:Nr,props:!0},{path:"/search",name:"Search",component:ai},{path:"/create-recipe",name:"CreateRecipe",component:us},{path:"/register",name:"Register",component:zs},{path:"/login",name:"Login",component:tr},{path:"/forgotpassword",name:"ForgotPassword",component:pr},{path:"/resetpassword",name:"ResetPassword",component:yr},{path:"/all-jobs",redirect:"/jobs"},{path:"/:catchAll(.*)",name:"Not Found"},{path:"/bookmarks",name:"Bookmarks",component:Zr},{path:"/bookmarks/:id",name:"BookmarkDetails",component:oo}],no=(0,O.p7)({history:(0,O.PO)("/recipe-app/"),routes:ao});var lo=no,co=i(2346),po=i(3907),uo=(0,po.MT)({state:{recipes:[]},getters:{},mutations:{fetchRecipes(e,t){e.recipes=t}},actions:{async fetchRecipes({commit:e}){const t=await Ce().get("https://recipe-strapi.herokuapp.com/api/recipes?populate=users_permissions_user,recipe_ingredients.unit,recipe_ingredients.ingredient,equipment,difficulty,likes,Image,steps");e("fetchRecipes",t.data.data)}},modules:{}}),mo=i(5205);(0,mo.z)("/recipe-app/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});const go=(0,s.ri)(N).use(uo);go.use(co.Z,Ce()),go.use(lo).mount("#app")},9022:function(e,t,i){var s={"./american-pancakes.jpg":8597,"./bacon-snack.jpg":6459,"./beef.jpg":4767,"./beetroot-creme.jpg":5938,"./caesar-salad.jpg":2573,"./cake.jpg":987,"./chicken-beans.jpg":4456,"./chili-pasta.jpg":1108,"./cremy-pasta.jpg":3737,"./cupcake.jpg":1267,"./fried-chicken.jpg":3552,"./fries.jpg":6031,"./granola.jpg":7576,"./noodles.jpg":7752,"./pasta-tomato.jpg":4677,"./pizza.jpg":8624,"./placeholder.png":1147,"./porraige.jpg":7544,"./simpel-salat.jpg":4255,"./wrap.jpg":6694};function r(e){var t=o(e);return i(t)}function o(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=o,e.exports=r,r.id=9022},7101:function(e,t,i){var s={"./person1.jpg":3142,"./person10.jpg":9796,"./person11.jpg":2883,"./person12.jpg":8189,"./person13.jpg":7493,"./person14.jpg":7437,"./person2.jpg":5535,"./person24.jpg":401,"./person3.jpg":232,"./person4.jpg":7555,"./person5.jpg":3317,"./person6.jpg":2133,"./person7.jpg":1660,"./person8.jpg":6420,"./person9.jpg":4665};function r(e){var t=o(e);return i(t)}function o(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=o,e.exports=r,r.id=7101},8597:function(e,t,i){"use strict";e.exports=i.p+"img/american-pancakes.3e631b55.jpg"},6459:function(e,t,i){"use strict";e.exports=i.p+"img/bacon-snack.1873c29a.jpg"},4767:function(e,t,i){"use strict";e.exports=i.p+"img/beef.d9dc0158.jpg"},5938:function(e,t,i){"use strict";e.exports=i.p+"img/beetroot-creme.36883fbc.jpg"},2573:function(e,t,i){"use strict";e.exports=i.p+"img/caesar-salad.651eb7c0.jpg"},987:function(e,t,i){"use strict";e.exports=i.p+"img/cake.d40a2d55.jpg"},4456:function(e,t,i){"use strict";e.exports=i.p+"img/chicken-beans.362353b9.jpg"},1108:function(e,t,i){"use strict";e.exports=i.p+"img/chili-pasta.6aba7927.jpg"},3737:function(e,t,i){"use strict";e.exports=i.p+"img/cremy-pasta.a411dabe.jpg"},1267:function(e,t,i){"use strict";e.exports=i.p+"img/cupcake.a075569c.jpg"},3552:function(e,t,i){"use strict";e.exports=i.p+"img/fried-chicken.e2bdf5e6.jpg"},6031:function(e,t,i){"use strict";e.exports=i.p+"img/fries.1425fa03.jpg"},7576:function(e,t,i){"use strict";e.exports=i.p+"img/granola.02ea41ef.jpg"},7752:function(e,t,i){"use strict";e.exports=i.p+"img/noodles.98631d9a.jpg"},4677:function(e,t,i){"use strict";e.exports=i.p+"img/pasta-tomato.012e3d40.jpg"},8624:function(e,t,i){"use strict";e.exports=i.p+"img/pizza.73608530.jpg"},1147:function(e,t,i){"use strict";e.exports=i.p+"img/placeholder.a699a06c.png"},7544:function(e,t,i){"use strict";e.exports=i.p+"img/porraige.f3c0a06e.jpg"},4255:function(e,t,i){"use strict";e.exports=i.p+"img/simpel-salat.8751d671.jpg"},6694:function(e,t,i){"use strict";e.exports=i.p+"img/wrap.65b936d0.jpg"},3142:function(e,t,i){"use strict";e.exports=i.p+"img/person1.53bb75e1.jpg"},9796:function(e,t,i){"use strict";e.exports=i.p+"img/person10.d581e5fa.jpg"},2883:function(e,t,i){"use strict";e.exports=i.p+"img/person11.f25f5c2e.jpg"},8189:function(e,t,i){"use strict";e.exports=i.p+"img/person12.4a01937f.jpg"},7493:function(e,t,i){"use strict";e.exports=i.p+"img/person13.b68ed984.jpg"},7437:function(e,t,i){"use strict";e.exports=i.p+"img/person14.b29d9f76.jpg"},5535:function(e,t,i){"use strict";e.exports=i.p+"img/person2.fb458ac0.jpg"},401:function(e,t,i){"use strict";e.exports=i.p+"img/person24.ed5a509e.jpg"},232:function(e,t,i){"use strict";e.exports=i.p+"img/person3.2fd612c2.jpg"},7555:function(e,t,i){"use strict";e.exports=i.p+"img/person4.1a4f7918.jpg"},3317:function(e,t,i){"use strict";e.exports=i.p+"img/person5.25423ad7.jpg"},2133:function(e,t,i){"use strict";e.exports=i.p+"img/person6.44fcddd0.jpg"},1660:function(e,t,i){"use strict";e.exports=i.p+"img/person7.a7b0f81d.jpg"},6420:function(e,t,i){"use strict";e.exports=i.p+"img/person8.91df4992.jpg"},4665:function(e,t,i){"use strict";e.exports=i.p+"img/person9.97d52a52.jpg"}},t={};function i(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s](o,o.exports,i),o.loaded=!0,o.exports}i.m=e,function(){i.amdO={}}(),function(){var e=[];i.O=function(t,s,r,o){if(!s){var a=1/0;for(p=0;p<e.length;p++){s=e[p][0],r=e[p][1],o=e[p][2];for(var n=!0,l=0;l<s.length;l++)(!1&o||a>=o)&&Object.keys(i.O).every((function(e){return i.O[e](s[l])}))?s.splice(l--,1):(n=!1,o<a&&(a=o));if(n){e.splice(p--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[s,r,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p="/recipe-app/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,a=s[0],n=s[1],l=s[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in n)i.o(n,r)&&(i.m[r]=n[r]);if(l)var p=l(i)}for(t&&t(s);c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(p)},s=self["webpackChunkrecipe_app"]=self["webpackChunkrecipe_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(7610)}));s=i.O(s)})();
//# sourceMappingURL=app.247483bd.js.map